{
  "variables": [
    {
      "name": "age",
      "type": "integer",
      "unit": "years",
      "role": "input"
    },
    {
      "name": "years_of_service",
      "type": "integer",
      "unit": "years",
      "role": "input"
    },
    {
      "name": "base_vacation_days",
      "type": "integer",
      "unit": "days",
      "role": "eternal-truth"
    },
    {
      "name": "extra_days_group1",
      "type": "integer",
      "unit": "days",
      "role": "eternal-truth"
    },
    {
      "name": "extra_days_group3",
      "type": "integer",
      "unit": "days",
      "role": "eternal-truth"
    },
    {
      "name": "final_extra_days",
      "type": "integer",
      "unit": "days",
      "role": "eternal-truth"
    },
    {
      "name": "total_vacation_days",
      "type": "integer",
      "unit": "days",
      "role": "output"
    }
  ],
  "inputs": [
    {
      "id": "R1",
      "description": "Every employee receives at least 22 days per year.",
      "Causes": [],
      "effects": [
        {
          "variable": "base_vacation_days",
          "operator": "=",
          "value": 22
        },
        {
          "variable": "extra_days_group1",
          "operator": "=",
          "value": 0
        },
        {
          "variable": "extra_days_group3",
          "operator": "=",
          "value": 0
        }
      ]
    },
    {
      "id": "R1-1a",
      "description": "Employees younger than 18 receive 5 extra days.",
      "Causes": [
        {
          "variable": "age",
          "operator": "<",
          "value": 18
        }
      ],
      "effects": [
        {
          "variable": "extra_days_group1",
          "operator": "=",
          "value": 5
        }
      ]
    },
    {
      "id": "R1-1b",
      "description": "Employees of at least 60 years receive 5 extra days.",
      "Causes": [
        {
          "variable": "age",
          "operator": ">=",
          "value": 60
        }
      ],
      "effects": [
        {
          "variable": "extra_days_group1",
          "operator": "=",
          "value": 5
        }
      ]
    },
    {
      "id": "R1-1c",
      "description": "Employees with at least 30 years of service receive 5 extra days.",
      "Causes": [
        {
          "variable": "years_of_service",
          "operator": ">=",
          "value": 30
        }
      ],
      "effects": [
        {
          "variable": "extra_days_group1",
          "operator": "=",
          "value": 5
        }
      ]
    },
    {
      "id": "R1-2",
      "description": "Employees of age 60 or more with at least 30 years of service receive 3 extra days on top of group1.",
      "Causes": [
        {
          "variable": "age",
          "operator": ">=",
          "value": 60
        },
        {
          "variable": "years_of_service",
          "operator": ">=",
          "value": 30
        }
      ],
      "effects": [
        {
          "variable": "extra_days_group1",
          "operator": "=",
          "value": "extra_days_group1 + 3"
        }
      ]
    },
    {
      "id": "R1-3a",
      "description": "If an employee has at least 15 years of service, 2 extra days are given (non-combinable group).",
      "Causes": [
        {
          "variable": "years_of_service",
          "operator": ">=",
          "value": 15
        }
      ],
      "effects": [
        {
          "variable": "extra_days_group3",
          "operator": "=",
          "value": 2
        }
      ]
    },
    {
      "id": "R1-3b",
      "description": "Employees of age 45 or more also receive these 2 non-combinable extra days.",
      "Causes": [
        {
          "variable": "age",
          "operator": ">=",
          "value": 45
        }
      ],
      "effects": [
        {
          "variable": "extra_days_group3",
          "operator": "=",
          "value": 2
        }
      ]
    }
  ],
  "outputs": [
    {
      "id": "R-display",
      "description": "Display the vacation days.",
      "question": [
        {
          "variable": "total_vacation_days",
          "operator": "=",
          "value": "?"
        }
      ],
      "rules": [
        {
          "variable": "final_extra_days",
          "operator": "=",
          "value": "max(extra_days_group1, extra_days_group3)"
        },
        {
          "variable": "total_vacation_days",
          "operator": "=",
          "value": "base_vacation_days + final_extra_days"
        }
      ]
    }
  ]
}
